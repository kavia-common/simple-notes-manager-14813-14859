{"is_source_file": true, "format": "C#", "description": "This file defines the JwtTokenService class, which implements token creation and validation for JWTs using environment variables for configuration. It is part of a backend service handling JWT-based authentication.", "external_files": ["System.IdentityModel.Tokens.Jwt", "System.Security.Claims", "System.Text", "Microsoft.IdentityModel.Tokens", "NotesBackend.Models"], "external_methods": ["Environment.GetEnvironmentVariable", "configuration[\"Jwt:Issuer\"]", "configuration[\"Jwt:Audience\"]", "configuration[\"Jwt:Secret\"]", "int.TryParse", "logger.LogWarning", "TimeSpan.FromMinutes", "new SymmetricSecurityKey", "Encoding.UTF8.GetBytes", "new SigningCredentials", "new Claim", "new JwtSecurityToken", "JwtSecurityTokenHandler().WriteToken", "new TokenValidationParameters"], "published": ["JwtTokenService", "CreateToken", "GetDefaultLifetime", "BuildValidationParameters"], "classes": [{"name": "JwtTokenService", "description": "A service for generating and validating JWT tokens, configured via environment variables or app settings, used for authentication in the backend."}], "methods": [{"name": "JwtTokenService", "description": "Constructor initializing JWT parameters from environment variables or configuration, with fallback defaults."}, {"name": "GetDefaultLifetime", "description": "Returns the default token lifetime as a TimeSpan."}, {"name": "CreateToken", "description": "Generates a JWT string for a given user and expiration time."}, {"name": "BuildValidationParameters", "description": "Builds and returns parameters used to validate incoming JWT tokens."}], "calls": ["Environment.GetEnvironmentVariable", "configuration[\"Jwt:Issuer\"]", "configuration[\"Jwt:Audience\"]", "configuration[\"Jwt:Secret\"]", "int.TryParse", "logger.LogWarning", "TimeSpan.FromMinutes", "Encoding.UTF8.GetBytes", "new SymmetricSecurityKey", "new SigningCredentials", "new Claim", "new JwtSecurityToken", "new JwtSecurityTokenHandler().WriteToken", "new TokenValidationParameters"], "search-terms": ["JwtTokenService", "CreateToken", "BuildValidationParameters", "JwtIssuer", "JwtAudience", "JwtSecret", "TokenLifetime", "JWT", "ValidationParameters"], "state": 2, "file_id": 17, "knowledge_revision": 49, "git_revision": "", "revision_history": [{"36": ""}, {"49": ""}], "hash": "6a805344622acfbbf04c8f96c406b63f", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/Services/JwtTokenService.cs"}